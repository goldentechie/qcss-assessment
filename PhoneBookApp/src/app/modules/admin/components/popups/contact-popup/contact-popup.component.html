<div class="contact-sidebar">
    <span class="close-contact-sidebar" (click)="closeRightSidebar()"><i class="fal fa-times"></i></span>
    <div>
        <h4>{{contactId ? "Update Contact" : "Add Contact"}}</h4>
        <form class="animate-labels-form" [formGroup]="contactForm">
            <div class="form-group">
                <input class="form-control" type="text" placeholder=" " formControlName="firstName" [readOnly]="isLoading">
                <label>First Name</label>
                <div *ngIf="(contactForm.controls['firstName'].dirty || contactForm.controls['firstName'].touched)">
                    <div class="error" *ngIf="contactForm.controls['firstName'].errors?.['required']">
                        Enter first name
                    </div>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" type="text" placeholder=" " formControlName="lastName" [readOnly]="isLoading">
                <label>Last Name</label>
                <div *ngIf="(contactForm.controls['lastName'].dirty || contactForm.controls['lastName'].touched)">
                    <div class="error" *ngIf="contactForm.controls['lastName'].errors?.['required']">
                        Enter last name
                    </div>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" type="text" placeholder=" " formControlName="phoneNumber" [readOnly]="isLoading">
                <label>Phone Number</label>
                <div *ngIf="(contactForm.controls['phoneNumber'].dirty || contactForm.controls['phoneNumber'].touched)">
                    <div class="error" *ngIf="contactForm.controls['phoneNumber'].errors?.['required']">
                        Enter Phone Number
                    </div>
                    <div class="error" *ngIf="contactForm.controls['phoneNumber'].errors?.['entityExists']">
                        contact already exists with this number
                    </div>
                </div>
            </div>
            <div class="text-end mt-auto">
                <button class="btn btn-outline-danger" (click)="closeRightSidebar()" [disabled]="isLoading">
                    Cancel
                </button>
                <button class="btn btn-primary ms-3" (click)="onSubmit()" [disabled]="isLoading || contactForm.invalid" ><i *ngIf="isLoading" i class="fa fa-spinner fa-spin"></i> {{isLoading ? "Loading..." : (contactId ? "Update" : "Add")}}</button>
            </div>
        </form>
    </div>
</div>